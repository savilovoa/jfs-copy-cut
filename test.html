<script>
        function get_len() {
            $.ajax({
                type: "POST",
                url: "/get_len",
                data: $('form').serialize(),
                type: 'POST',
                success: function(response) {
                    var json = jQuery.parseJSON(response)
                    $('#len').html(json.len)
                    console.log(response);
                },
                error: function(error) {
                    console.log(error);
                }
            });
        }
    </script>
    <form action="/get_len" method="post" name="form">
        <label for="name">Get text:</label>
        <input id="name" name="name" type="text">
        <input type="button" value="Send" onclick="get_len();">
    </form>
    
    
      $(function() {
        setInterval(function() {  
            $.ajax({  
                type: "POST",
                url: "/_check_proc",                  
                success: function(response) {
                    var json = jQuery.parseJSON(response)
                    $('#session').html(json.status)
                    console.log(response);
                },
                error: function(error) {
                    console.log(error);
            }, 1000);          
    });
      
</script>  


  $(function() {
    setInterval(function() {  
      $( "p" ).text( "The DOM is now loaded and can be manipulated." ), 1000)
  });
  
 
  @app.route('/get_len', methods=['GET', 'POST'])
def get_len():
    name = request.form['name'];
    return json.dumps({'len': len(name)})
    
@app.route('/get_test', methods=['GET', 'POST'])
def get_test():    
    return json.dumps({'name': 'TEST'})
